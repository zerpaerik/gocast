<!-- Start::page-header -->
<div class="d-flex align-items-center justify-content-between page-header-breadcrumb flex-wrap gap-2">
    <div>
        <ol class="breadcrumb mb-1">
            <li class="breadcrumb-item">
                <a href="javascript:void(0);">
                    Dashboardsss
                </a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Sales</li>
        </ol>
        <h1 class="page-title fw-medium fs-18 mb-0">Sales Dashboard</h1>
    </div>
    <div class="d-flex align-items-center gap-2 flex-wrap flapicker-modal">
        <div class="form-group">
            <div class="input-group ">
                <div class="input-group-text bg-white border"> <i class="ri-calendar-line"></i> </div>
                <app-spk-flatpickr [placeholder]="'2024-05-01 to 2024-05-30'" [mode]="'range'" [dateFormat]="'Y-m-d'" [altInput]="false" [enableTime]="false"  [convertModelValue]="true" class="form-control breadcrumb-input text-dark"></app-spk-flatpickr>

            </div>
        </div>
        <div class="btn-list">
            <button class="btn btn-white btn-wave me-2">
                <i class="ri-filter-3-line align-middle me-1 lh-1"></i> Filter
            </button>
            <button class="btn btn-primary btn-wave me-0">
                <i class="ri-share-forward-line me-1"></i> Share
            </button>
        </div>
    </div>
</div>
<!-- End::page-header -->

<!-- Start:: row-1 -->
<div class="row">
    <div class="col-xl-8">
        <div class="row">
            @for(card of cardData;track $index){
            <div class="col-xxl-3 col-xl-6">
              
                        <app-spk-reusable-card [card]="card"></app-spk-reusable-card>
            </div>
            }

            <div class="col-xxl-8 col-xl-6">
                <div class="card custom-card">
                    <div class="card-header justify-content-between">
                        <div class="card-title">
                            Sales Overview
                        </div>
                        <spk-dropdowns [Customclass]="'dropdown'" [title]="'Sort By'" [class]="'btn btn-sm btn-light text-muted dropdown-toggle'" 
                        [Menuclass]="'dropdown-menu'"  >
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">This Week</a></li>
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">Last Week</a> </li>
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">This Month</a> </li>
                    </spk-dropdowns>
                    </div>
                    <div class="card-body">
                        <div id="sales-overview">
                            <app-apex-chart [chartOptions]="chartOptions"></app-apex-chart>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xxl-4 col-xl-6">
                <div class="card custom-card overflow-hidden">
                    <div class="card-header pb-0 justify-content-between">
                        <div class="card-title">
                            Order Statistics
                        </div>
                        <spk-dropdowns [Customclass]="'dropdown'"  [class]="'btn btn-light btn-icons btn-sm text-muted no-caret'"  [Icon]="true" [IconClass]="'fe fe-more-vertical'"
                        [Menuclass]="'dropdown-menu'"  >
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">Today</a></li>
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">This Week</a> </li>
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">Last Week</a> </li>
                    </spk-dropdowns>
                    </div>
                    <div class="card-body py-4 px-3">
                        <div class="d-flex gap-3 mb-3 flex-wrap">
                            <div class="avatar avatar-md bg-primary-transparent">
                                <i class="ti ti-trending-up fs-5"></i>
                            </div>
                            <div class="flex-fill d-flex align-items-start justify-content-between">
                                <div>
                                    <span class="fs-11 mb-1 d-block fw-medium">TOTAL ORDERS</span>
                                    <div class="d-flex align-items-center justify-content-between">
                                        <h4 class="mb-0 d-flex align-items-center">3,736<span
                                                class="text-success fs-12 ms-2 op-1"><i
                                                    class="ti ti-trending-up align-middle me-1"></i>0.57%</span></h4>
                                    </div>
                                </div>
                                <a href="javascript:void(0);"
                                    class="text-success fs-12 text-decoration-underline">Earnings ?</a>
                            </div>
                        </div>
                        <div id="orders" class="my-2">
                            <app-apex-chart [chartOptions]="chartOptions1"></app-apex-chart>

                        </div>
                    </div>
                    <div class="card-footer border-top border-block-start-dashed">
                        <div class="d-grid">
                            <button
                                class="btn btn-primary-ghost btn-wave fw-medium waves-effect waves-light table-icon">Complete
                                Statistics<i class="ti ti-arrow-narrow-right ms-2 fs-16 d-inline-block"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-4">
        <div class="row">
            <div class="col-xl-12">
                <div class="card custom-card main-dashboard-banner overflow-hidden">
                    <div class="card-body p-4">
                        <div class="row justify-content-between">
                            <div class="col-xxl-7 col-xl-5 col-lg-5 col-md-5 col-sm-5">
                                <h4 class="mb-3 fw-medium text-fixed-white">Upgrade to get more</h4>
                                <p class="mb-4 text-fixed-white">Maximize sales insights. Optimize performance. Achieve
                                    success with pro.</p>
                                <a href="javascript:void(0);"
                                    class="fw-medium text-fixed-white text-decoration-underline">Upgrade To Pro<i
                                        class="ti ti-arrow-narrow-right"></i></a>
                            </div>
                            <div
                                class="col-xxl-4 col-xl-7 col-lg-7 col-md-7 col-sm-7 d-sm-block d-none text-end my-auto">
                                <img src="./assets/images/media/media-86.png" alt="" class="img-fluid">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-12">
                <div class="card custom-card overflow-hidden">
                    <div class="card-header justify-content-between">
                        <div class="card-title">
                            Top Selling Categories
                        </div>
                        <spk-dropdowns [Customclass]="'dropdown'" [title]="'Sort By'" [class]="'btn btn-sm btn-light text-muted dropdown-toggle'" 
                        [Menuclass]="'dropdown-menu'"  >
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">This Week</a></li>
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">Last Week</a> </li>
                        <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">This Month</a> </li>
                    </spk-dropdowns>
                    </div>
                    <div class="card-body p-0">
                        <div class="p-3 pb-0">
                            <div class="progress-stacked progress-sm mb-2 gap-1">
                                <div class="progress-bar" role="progressbar" style="width: 25%" aria-valuenow="25"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                                <div class="progress-bar bg-primary1" role="progressbar" style="width: 15%"
                                    aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
                                <div class="progress-bar bg-primary2" role="progressbar" style="width: 15%"
                                    aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                <div class="progress-bar bg-primary3" role="progressbar" style="width: 25%"
                                    aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                                <div class="progress-bar bg-secondary" role="progressbar" style="width: 20%"
                                    aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-2">
                                <div>Overall Sales</div>
                                <div class="h6 mb-0"><span class="text-success me-2 fs-11">2.74%<i
                                            class="ti ti-arrow-narrow-up"></i></span>1,25,875</div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <app-spk-reusable-tables tableClass="text-nowrap" [showCheckbox]="false">
                                @for(sale of sales;track $index){
                                <tr>
                                    <td>
                                        <span class="fw-medium top-category-name {{sale.number}}">{{sale.type}}</span>
                                    </td>
                                    <td>
                                        <span class="fw-medium">{{sale.cost}}</span>
                                    </td>
                                    <td class="text-center">
                                        <span class="text-muted fs-12">{{sale.percent}} Gross</span>
                                    </td>
                                    <td class="text-end">
                                        <span class="badge bg-{{sale.bg}}">{{sale.percent1}} <i
                                                class="ti ti-trending-{{sale.arrow}}"></i></span>
                                    </td>
                                </tr>
                                }
                            </app-spk-reusable-tables>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-1 -->

<!-- Start:: row-2 -->
<div class="row">
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card overflow-hidden">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Latest Transactions
                </div>
                <a href="javascript:void(0);" class="btn btn-light btn-wave btn-sm text-muted">View All<i
                        class="ti ti-arrow-narrow-right ms-1"></i></a>
            </div>
            <div class="card-body p-0 pt-1">
                <div class="table-responsive">
                    <app-spk-reusable-tables [columns]="transactions" [showCheckbox]="false">

                        @for(transaction of transactiondata;track $index){

                        <tr>
                            <td>
                                <div class="d-flex align-items-center gap-2">
                                    <div class="lh-1">
                                        <span class="avatar avatar-sm">
                                            <img [src]="transaction.src" alt="">
                                        </span>
                                    </div>
                                    <div class="fw-medium">{{transaction.product}}</div>
                                </div>
                            </td>
                            <td>
                                <span class="fw-medium">{{transaction.price}}</span>
                            </td>
                            <td>
                                <span class="badge bg-{{transaction.bg}}">{{transaction.status}}</span>
                            </td>
                        </tr>
                        }
                    </app-spk-reusable-tables>


                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-6">
        <app-spk-sales-activity-card [activities]="activities"></app-spk-sales-activity-card>
     
    </div>
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Sales Statistics
                </div>
                <spk-dropdowns [Customclass]="'dropdown'" [title]="'Sort By'" [class]="'btn btn-sm btn-light text-muted dropdown-toggle'" 
                [Menuclass]="'dropdown-menu'"  >
                <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">This Week</a></li>
                <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">Last Week</a> </li>
                <li><a class="dropdown-item" ngbDropdownItem href="javascript:void(0);">This Month</a> </li>
            </spk-dropdowns>
            </div>
            <div class="card-body">
                <div class="d-flex flex-wrap gap-2 justify-content-between flex-fill pb-3">
                    <div class="py-3 px-4 rounded border border-dashed bg-light">
                        <span>Total Sales</span>
                        <p class="fw-medium fs-14 mb-0">$3.478B</p>
                    </div>
                    <div class="py-3 px-4 rounded border border-dashed bg-light">
                        <span>This Year</span>
                        <p class="text-success fw-medium fs-14 mb-0">4,25,349</p>
                    </div>
                    <div class="py-3 px-4 rounded border border-dashed bg-light">
                        <span>Last Year</span>
                        <p class="text-danger fw-medium fs-14 mb-0">3,41,622</p>
                    </div>
                </div>
                <div id="sales-statistics">
                    <app-apex-chart [chartOptions]="chartOptions2"></app-apex-chart>

                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card overflow-hidden">
            <div class="card-header pb-0 justify-content-between">
                <div class="card-title">
                    Overall Statistics
                </div>
                <a href="javascript:void(0);"
                    class="btn btn-light btn-wave btn-sm text-muted waves-effect waves-light">View All</a>
            </div>
            <div class="card-body">
                <ul class="list-group activity-feed">
                    @for(statistic of statistics;track $index){

                        <li class="list-group-item">
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="lh-1">
                                    <p class="mb-2 fs-13 text-muted">{{statistic.expenses}}</p>
                                    <h6 class="fw-medium mb-0">{{statistic.price}}<span
                                            class="fs-12 text-{{statistic.bg}} ms-2 fw-normal d-inline-block">{{statistic.change}}<i
                                                class="ti ti-trending-{{statistic.arrow}} ms-1"></i></span></h6>
                                </div>
                                <div class="text-end">
                                    <div id="line-graph1">
                                        <app-apex-chart [chartOptions]="statistic.chartOptions"></app-apex-chart>
    
                                    </div>
                                    <a href="javascript:void(0);" class="fs-12">
                                        <span>See more</span>
                                        <span class="table-icon"><i
                                                class="ms-1 d-inline-block ri-arrow-right-line"></i></span>
                                    </a>
                                </div>
                            </div>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-2 -->

<!-- Start:: row-3 -->
<div class="row">
    <div class="col-xl-9">
        <div class="card custom-card overflow-hidden">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Recent Orders
                </div>
                <a href="javascript:void(0);"
                    class="btn btn-light btn-wave btn-sm text-muted waves-effect waves-light">View All</a>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <app-spk-reusable-tables [columns]="orderColumns" (toggleSelectAll)="handleToggleSelectAll($event)"  [tableClass]="' text-nowrap'" checkboxClass="text-center" [showCheckbox]="true">
                        @for(order of orders;track $index){
                        <tr>
                            <td class="text-center">
                                <input class="form-check-input" [checked]="allTasksChecked" [(ngModel)]="order.checked"
                                    type="checkbox" id="checkboxNoLabel02" value="" aria-label="..." checked>
                            </td>
                            <td>
                                <div class="d-flex align-items-center gap-3">
                                    <div class="lh-1">
                                        <span class="avatar avatar-sm">
                                            <img [src]="order.src" alt="">
                                        </span>
                                    </div>
                                    <div>
                                        <span class="d-block fw-medium">{{order.customer}}</span>
                                        <span class="d-block fs-11 text-muted">{{order.customerMail}}</span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                {{order.product}}
                            </td>
                            <td class="text-center">
                                {{order.quantity}}
                            </td>
                            <td class="text-center">
                                {{order.price}}
                            </td>
                            <td>
                                <span class="badge bg-{{order.bg}}-transparent">{{order.status}}</span>
                            </td>
                            <td>
                                {{order.date}}
                            </td>
                            <td>
                                <div class="btn-list">
                                    <button class="btn btn-sm btn-icon btn-success-light"><i
                                            class="ri-pencil-line"></i></button>
                                    <button class="btn btn-sm btn-icon btn-danger-light" (click)="click(order.id)"><i
                                            class="ri-delete-bin-line"></i></button>
                                </div>
                            </td>
                        </tr>
                        }
                    </app-spk-reusable-tables>

                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Sales By Country
                </div>
                <a href="javascript:void(0);"
                    class="btn btn-light btn-wave btn-sm text-muted waves-effect waves-light">View All</a>
            </div>
            <div class="card-body">
                <ul class="list-unstyled sales-country-list">
                    @for(country of countries;track $index){

                        <li>
                            <div class="d-flex align-items-start gap-3">
                                <div class="lh-1">
                                    <span class="avatar avatar-sm p-1 bg-light border">
                                        <img [src]="country.src"  alt="">
                                    </span>
                                </div>
                                <div class="flex-fill">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <span class="d-block fw-medium mb-2 lh-1">{{country.name}}</span>
                                        <span class="fs-14 fw-medium d-block lh-1">{{country.sales}}</span>
                                    </div>
                                    <div class="progress progress-md p-1" role="progressbar" aria-valuenow="90"
                                        aria-valuemin="0" aria-valuemax="100">
                                        <div class="progress-bar progress-bar-striped  bg-{{country.bg}} progress-bar-animated"
                                        [style.width]="country.progress + '%'" ></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    }
                  
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-3 -->