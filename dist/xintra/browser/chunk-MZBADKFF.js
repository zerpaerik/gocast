import{a as M}from"./chunk-AC7NVW55.js";import{Ca as d,Da as y,La as f,Va as i,Wa as c,Za as m,ra as u,tc as v,vb as p,zb as h}from"./chunk-XJ56SYHS.js";import{h as L}from"./chunk-BI7C37SH.js";var r=L(M(),1),n=class{static mapToArray(l){let e=[];for(let s in l)l.hasOwnProperty(s)&&e.push(l[s]);return e}static handleEvent(l,e,s){0<e.observers.length&&l.run(()=>{e.emit(s)})}},b=(()=>{class o{constructor(e,s){this.element=e,this.zone=s,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,r.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new i,this.zoomChange=new i,this.centerChange=new i,this.onClick=new i,this.onDoubleClick=new i,this.onMouseDown=new i,this.onMouseUp=new i,this.onMouseMove=new i,this.onMouseOver=new i,this.onMouseOut=new i,this.onMapMove=new i,this.onMapMoveStart=new i,this.onMapMoveEnd=new i,this.onMapZoom=new i,this.onMapZoomStart=new i,this.onMapZoomEnd=new i}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,r.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),this.center!=null&&this.zoom!=null&&this.setView(this.center,this.zoom),this.fitBounds!=null&&this.setFitBounds(this.fitBounds),this.maxBounds!=null&&this.setMaxBounds(this.maxBounds),this.minZoom!=null&&this.setMinZoom(this.minZoom),this.maxZoom!=null&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(e){e.zoom&&e.center&&this.zoom!=null&&this.center!=null?this.setView(e.center.currentValue,e.zoom.currentValue):e.zoom?this.setZoom(e.zoom.currentValue):e.center&&this.setCenter(e.center.currentValue),e.fitBounds&&this.setFitBounds(e.fitBounds.currentValue),e.maxBounds&&this.setMaxBounds(e.maxBounds.currentValue),e.minZoom&&this.setMinZoom(e.minZoom.currentValue),e.maxZoom&&this.setMaxZoom(e.maxZoom.currentValue)}ngOnDestroy(){this.map!=null&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){let e=(t,a)=>{this.map.on(t,a)};e("click",t=>n.handleEvent(this.zone,this.onClick,t)),e("dblclick",t=>n.handleEvent(this.zone,this.onDoubleClick,t)),e("mousedown",t=>n.handleEvent(this.zone,this.onMouseDown,t)),e("mouseup",t=>n.handleEvent(this.zone,this.onMouseUp,t)),e("mouseover",t=>n.handleEvent(this.zone,this.onMouseOver,t)),e("mouseout",t=>n.handleEvent(this.zone,this.onMouseOut,t)),e("mousemove",t=>n.handleEvent(this.zone,this.onMouseMove,t)),e("zoomstart",t=>n.handleEvent(this.zone,this.onMapZoomStart,t)),e("zoom",t=>n.handleEvent(this.zone,this.onMapZoom,t)),e("zoomend",t=>n.handleEvent(this.zone,this.onMapZoomEnd,t)),e("movestart",t=>n.handleEvent(this.zone,this.onMapMoveStart,t)),e("move",t=>n.handleEvent(this.zone,this.onMapMove,t)),e("moveend",t=>n.handleEvent(this.zone,this.onMapMoveEnd,t));let s=()=>{let t=this.map.getZoom();t!==this.zoom&&(this.zoom=t,n.handleEvent(this.zone,this.zoomChange,t));let a=this.map.getCenter();(a!=null||this.center!=null)&&((a==null||this.center==null)&&a!==this.center||a.lat!==this.center.lat||a.lng!==this.center.lng)&&(this.center=a,n.handleEvent(this.zone,this.centerChange,a))};e("moveend",s),e("zoomend",s)}doResize(){this.zone.runOutsideAngular(()=>{this.map!=null&&this.map.invalidateSize({})})}delayResize(){this.resizeTimer!=null&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(e,s){this.map!=null&&e!=null&&s!=null&&this.map.setView(e,s,this.zoomPanOptions)}setZoom(e){this.map!=null&&e!=null&&this.map.setZoom(e,this.zoomOptions)}setCenter(e){this.map!=null&&e!=null&&this.map.panTo(e,this.panOptions)}setFitBounds(e){this.map!=null&&e!=null&&this.map.fitBounds(e,this.fitBoundsOptions)}setMaxBounds(e){this.map!=null&&e!=null&&this.map.setMaxBounds(e)}setMinZoom(e){this.map!=null&&e!=null&&this.map.setMinZoom(e)}setMaxZoom(e){this.map!=null&&e!=null&&this.map.setMaxZoom(e)}static{this.\u0275fac=function(s){return new(s||o)(h(m),h(c))}}static{this.\u0275dir=y({type:o,selectors:[["","leaflet",""]],hostBindings:function(s,t){s&1&&v("resize",function(){return t.onResize()},!1,p)},inputs:{fitBoundsOptions:[0,"leafletFitBoundsOptions","fitBoundsOptions"],panOptions:[0,"leafletPanOptions","panOptions"],zoomOptions:[0,"leafletZoomOptions","zoomOptions"],zoomPanOptions:[0,"leafletZoomPanOptions","zoomPanOptions"],options:[0,"leafletOptions","options"],zoom:[0,"leafletZoom","zoom"],center:[0,"leafletCenter","center"],fitBounds:[0,"leafletFitBounds","fitBounds"],maxBounds:[0,"leafletMaxBounds","maxBounds"],minZoom:[0,"leafletMinZoom","minZoom"],maxZoom:[0,"leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[f]})}}return o})();var R=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=d({type:o})}static{this.\u0275inj=u({})}}return o})();export{b as a,R as b};
