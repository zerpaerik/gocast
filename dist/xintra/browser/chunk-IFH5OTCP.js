import{B as Y,c as k,g as A,h as X,j as J,m as P,n as K}from"./chunk-LWEV5N6L.js";import{i as G,k as I,o as w}from"./chunk-6SH7557L.js";import{Ba as D,Ca as T,Hc as c,Ic as H,Jc as _,Lc as p,Ma as l,Mc as u,Na as m,Nc as g,Pd as L,Qb as S,Qd as V,Rd as E,Vb as f,Wc as j,Yc as B,Zd as R,ce as z,hc as r,ic as n,jc as v,nc as M,q as x,qa as W,ra as y,tc as h,vc as d,yb as s,zb as C}from"./chunk-XJ56SYHS.js";import"./chunk-DW7GCGLI.js";import"./chunk-BI7C37SH.js";var F=(()=>{class o{serviciosMock=[{id:1,fechaHora:new Date,tipoServicio:"Consulta M\xE9dica",proveedor:"Cl\xEDnica Santa Mar\xEDa",asegurado:"Juan P\xE9rez",estado:"activo"},{id:2,fechaHora:new Date,tipoServicio:"Grua",proveedor:"Grua Express",asegurado:"Mar\xEDa Gonz\xE1lez",estado:"activo"},{id:3,fechaHora:new Date,tipoServicio:"Rayos X",proveedor:"Centro Diagn\xF3stico",asegurado:"Pedro Ram\xEDrez",estado:"activo"},{id:4,fechaHora:new Date,tipoServicio:"Cambio de caucho",proveedor:"Cauchera Express XX",asegurado:"Ana Torres",estado:"activo"},{id:5,fechaHora:new Date,tipoServicio:"Odontolog\xEDa",proveedor:"Dental Care",asegurado:"Carlos L\xF3pez",estado:"activo"},{id:6,fechaHora:new Date,tipoServicio:"Oftalmolog\xEDa",proveedor:"Vision Center",asegurado:"Laura Mart\xEDnez",estado:"activo"},{id:7,fechaHora:new Date,tipoServicio:"Cardiolog\xEDa",proveedor:"Heart Center",asegurado:"Roberto D\xEDaz",estado:"activo"},{id:8,fechaHora:new Date,tipoServicio:"Pediatr\xEDa",proveedor:"Kids Health",asegurado:"Mar\xEDa Jos\xE9",estado:"activo"},{id:9,fechaHora:new Date,tipoServicio:"Traumatolog\xEDa",proveedor:"Trauma Center",asegurado:"Jos\xE9 Garc\xEDa",estado:"activo"},{id:10,fechaHora:new Date,tipoServicio:"Neurolog\xEDa",proveedor:"Neuro Care",asegurado:"Carmen Rodr\xEDguez",estado:"activo"}];getServiciosActivos(){return x(this.serviciosMock.filter(e=>e.estado==="activo"))}getServicioById(e){return x(this.serviciosMock.find(i=>i.id===e))}actualizarServicio(e){let i=this.serviciosMock.findIndex(t=>t.id===e.id);return i!==-1?(this.serviciosMock[i]=e,x(!0)):x(!1)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function te(o,b){if(o&1&&(r(0,"p",21),v(1,"i",22),c(2),n()),o&2){let e=d().$implicit;s(2),_(" ",e.detalles," ")}}function oe(o,b){if(o&1){let e=M();r(0,"div",10)(1,"div",11),h("click",function(){let t=l(e).$implicit,a=d();return m(a.verDetalle(t.id))}),r(2,"div",12)(3,"div",13)(4,"h5",14),c(5),n(),r(6,"span",15),c(7),n()(),r(8,"p",16),v(9,"i",17),c(10),j(11,"date"),v(12,"br")(13,"i",18),c(14),v(15,"br")(16,"i",19),c(17),n(),S(18,te,3,1,"p",20),n()()()}if(o&2){let e=b.$implicit,i=d();s(),f("ngClass",i.getCardClass(e.tipoServicio)),s(4),H(e.tipoServicio),s(),f("ngClass",i.getBadgeClass(e.tipoServicio)),s(),_(" ",i.getTipoServicio(e.tipoServicio)," "),s(3),_(" ",B(11,8,e.fechaHora,"dd/MM/yyyy HH:mm"),""),s(4),_(" ",e.proveedor,""),s(3),_(" ",e.asegurado," "),s(),f("ngIf",e.detalles)}}var Q=(()=>{class o{dashboardService;router;servicios=[];serviciosFiltrados=[];filtroTexto="";constructor(e,i){this.dashboardService=e,this.router=i}ngOnInit(){this.cargarServicios()}cargarServicios(){this.dashboardService.getServiciosActivos().subscribe(e=>{this.servicios=e,this.filtrarServicios()})}filtrarServicios(){if(!this.filtroTexto){this.serviciosFiltrados=this.servicios;return}let e=this.filtroTexto.toLowerCase();this.serviciosFiltrados=this.servicios.filter(i=>i.tipoServicio.toLowerCase().includes(e)||i.proveedor.toLowerCase().includes(e)||i.asegurado.toLowerCase().includes(e))}getCardClass(e){return this.esMedico(e)?"medical-service":"roadside-service"}getBadgeClass(e){return this.esMedico(e)?"medical":"roadside"}getTipoServicio(e){return this.esMedico(e)?"M\xE9dico":"Asistencia Vial"}esMedico(e){return["Consulta M\xE9dica","Rayos X","Odontolog\xEDa","Cardiolog\xEDa","Neurolog\xEDa"].includes(e)}verDetalle(e){this.router.navigate(["/dashboard-servicios/detalle",e])}static \u0275fac=function(i){return new(i||o)(C(F),C(I))};static \u0275cmp=D({type:o,selectors:[["app-dashboard"]],decls:11,vars:2,consts:[[1,"container-fluid"],[1,"row","mb-4"],[1,"col-12"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-search"],["type","text","placeholder","Buscar por servicio, proveedor o asegurado...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100","shadow-sm","cursor-pointer",3,"click","ngClass"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"card-title","mb-0"],[1,"badge",3,"ngClass"],[1,"card-text"],[1,"fas","fa-calendar-alt","me-2"],[1,"fas","fa-building","me-2"],[1,"fas","fa-user","me-2"],["class","card-text text-muted small mt-2",4,"ngIf"],[1,"card-text","text-muted","small","mt-2"],[1,"fas","fa-info-circle","me-2"]],template:function(i,t){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4,"Servicios Activos del D\xEDa"),n(),r(5,"div",4)(6,"span",5),v(7,"i",6),n(),r(8,"input",7),g("ngModelChange",function(N){return u(t.filtroTexto,N)||(t.filtroTexto=N),N}),h("ngModelChange",function(){return t.filtrarServicios()}),n()()()(),r(9,"div",8),S(10,oe,19,11,"div",9),n()()),i&2&&(s(8),p("ngModel",t.filtroTexto),s(2),f("ngForOf",t.serviciosFiltrados))},dependencies:[L,V,E,k,A,P,R],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]{transition:all .3s ease;border:none}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a!important}.card.medical-service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e3f2fd,#bbdefb);color:#1976d2}.card.roadside-service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f5f5,#e0e0e0);color:#616161}.badge[_ngcontent-%COMP%]{padding:.5em .8em;font-size:.8em}.badge.medical[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.badge.roadside[_ngcontent-%COMP%]{background-color:#616161;color:#fff}"]})}return o})();function re(o,b){if(o&1){let e=M();r(0,"div",27),c(1),r(2,"button",28),h("click",function(){let t=l(e).index,a=d(2);return m(a.eliminarServicioAdicional(t))}),v(3,"i",29),n()()}if(o&2){let e=b.$implicit;s(),_(" ",e," ")}}function ne(o,b){if(o&1){let e=M();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),c(4,"Detalle del Servicio"),n()(),r(5,"div",6)(6,"form",7,0)(8,"div",8)(9,"label",9),c(10,"Tipo de Servicio"),n(),r(11,"input",10),g("ngModelChange",function(t){l(e);let a=d();return u(a.servicio.tipoServicio,t)||(a.servicio.tipoServicio=t),m(t)}),n()(),r(12,"div",8)(13,"label",9),c(14,"Fecha y Hora"),n(),r(15,"input",11),g("ngModelChange",function(t){l(e);let a=d();return u(a.servicio.fechaHora,t)||(a.servicio.fechaHora=t),m(t)}),n()(),r(16,"div",8)(17,"label",9),c(18,"Proveedor"),n(),r(19,"input",12),g("ngModelChange",function(t){l(e);let a=d();return u(a.servicio.proveedor,t)||(a.servicio.proveedor=t),m(t)}),n()(),r(20,"div",8)(21,"label",9),c(22,"Asegurado"),n(),r(23,"input",13),g("ngModelChange",function(t){l(e);let a=d();return u(a.servicio.asegurado,t)||(a.servicio.asegurado=t),m(t)}),n()(),r(24,"div",14)(25,"label",9),c(26,"Detalles"),n(),r(27,"textarea",15),g("ngModelChange",function(t){l(e);let a=d();return u(a.servicio.detalles,t)||(a.servicio.detalles=t),m(t)}),n()(),r(28,"div",16)(29,"label",9),c(30,"Servicios Adicionales"),n(),r(31,"div",17)(32,"input",18),g("ngModelChange",function(t){l(e);let a=d();return u(a.nuevoServicio,t)||(a.nuevoServicio=t),m(t)}),n(),r(33,"button",19),h("click",function(){l(e);let t=d();return m(t.agregarServicioAdicional())}),v(34,"i",20),c(35," Agregar "),n()(),r(36,"div",21),S(37,re,4,1,"div",22),n()(),r(38,"div",23)(39,"button",19),h("click",function(){l(e);let t=d();return m(t.guardarCambios())}),v(40,"i",24),c(41,"Guardar Cambios "),n(),r(42,"button",25),h("click",function(){l(e);let t=d();return m(t.volver())}),v(43,"i",26),c(44,"Volver "),n()()()()()()}if(o&2){let e=d();s(11),p("ngModel",e.servicio.tipoServicio),s(4),p("ngModel",e.servicio.fechaHora),s(4),p("ngModel",e.servicio.proveedor),s(4),p("ngModel",e.servicio.asegurado),s(4),p("ngModel",e.servicio.detalles),s(5),p("ngModel",e.nuevoServicio),s(5),f("ngForOf",e.servicio.serviciosAdicionales)}}var U=(()=>{class o{route;router;dashboardService;servicio;nuevoServicio="";constructor(e,i,t){this.route=e,this.router=i,this.dashboardService=t}ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));this.cargarServicio(e)}cargarServicio(e){this.dashboardService.getServicioById(e).subscribe(i=>{this.servicio=i,this.servicio&&!this.servicio.serviciosAdicionales&&(this.servicio.serviciosAdicionales=[])})}agregarServicioAdicional(){this.nuevoServicio&&this.servicio&&(this.servicio.serviciosAdicionales||(this.servicio.serviciosAdicionales=[]),this.servicio.serviciosAdicionales.push(this.nuevoServicio),this.nuevoServicio="")}eliminarServicioAdicional(e){this.servicio?.serviciosAdicionales&&this.servicio.serviciosAdicionales.splice(e,1)}guardarCambios(){this.servicio&&this.dashboardService.actualizarServicio(this.servicio).subscribe(()=>this.volver())}volver(){this.router.navigate(["/dashboard-servicios"])}static \u0275fac=function(i){return new(i||o)(C(G),C(I),C(F))};static \u0275cmp=D({type:o,selectors:[["app-detalle-servicio"]],decls:1,vars:1,consts:[["servicioForm","ngForm"],["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","name","tipoServicio",1,"form-control",3,"ngModelChange","ngModel"],["type","datetime-local","name","fechaHora",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","proveedor",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","asegurado",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","mb-3"],["rows","3","name","detalles",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","mb-4"],[1,"input-group","mb-2"],["type","text","name","nuevoServicio","placeholder","Agregar servicio adicional",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"col-12","d-flex","gap-2"],[1,"fas","fa-save","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-arrow-left","me-2"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(i,t){i&1&&S(0,ne,45,7,"div",1),i&2&&f("ngIf",t.servicio)},dependencies:[V,E,K,k,A,X,P,J],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:.5rem}.card-header[_ngcontent-%COMP%]{border-radius:.5rem .5rem 0 0}.list-group-item[_ngcontent-%COMP%]{transition:background-color .2s}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}"]})}return o})();var ae=[{path:"",children:[{path:"",component:Q},{path:"detalle/:id",component:U}]}],Z=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=T({type:o});static \u0275inj=y({imports:[w.forChild(ae),w]})}return o})();var xe=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=T({type:o});static \u0275inj=y({imports:[z,Y,w,Z]})}return o})();export{xe as DashboardServiciosModule};
